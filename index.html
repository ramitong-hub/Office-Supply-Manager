<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏¥‡∏Å‡∏û‡∏±‡∏™‡∏î‡∏∏‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</title>
    <!-- Google Fonts for professional Thai look -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <header class="main-header">
        <div class="container">
            <h1>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏¥‡∏Å‡∏û‡∏±‡∏™‡∏î‡∏∏‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÉ‡∏ô‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</h1>
            <p>Office Supply Requisition System</p>
        </div>
    </header>

    <main class="container">
        
        <!-- DASHBOARD SECTION -->
        <section class="dashboard-section">
            <div class="section-header">
                <h2><span class="icon">üìä</span> ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</h2>
                <div class="filter-controls">
                    <select id="filterMonth">
                        <option value="all">‡∏ó‡∏∏‡∏Å‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</option>
                        <!-- Options generated by JS -->
                    </select>
                    <select id="filterYear">
                        <option value="all">‡∏ó‡∏∏‡∏Å‡∏õ‡∏µ</option>
                        <!-- Options generated by JS -->
                    </select>
                </div>
            </div>

            <div class="stats-grid">
                <div class="stat-card blue">
                    <h3>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏¥‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h3>
                    <div class="value" id="statTotalRequests">0</div>
                    <div class="label">‡∏Ñ‡∏£‡∏±‡πâ‡∏á</div>
                </div>
                <div class="stat-card green">
                    <h3>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ä‡∏¥‡πâ‡∏ô‡∏£‡∏ß‡∏°</h3>
                    <div class="value" id="statTotalQty">0</div>
                    <div class="label">‡∏ä‡∏¥‡πâ‡∏ô/‡∏´‡∏ô‡πà‡∏ß‡∏¢</div>
                </div>
                <div class="stat-card orange">
                    <h3>‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏ö‡∏¥‡∏Å‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î</h3>
                    <div class="value small" id="statTopDept">-</div>
                    <div class="label">‡∏Å‡∏•‡∏∏‡πà‡∏°</div>
                </div>
                <div class="stat-card red">
                    <h3>‡∏û‡∏±‡∏™‡∏î‡∏∏‡πÉ‡∏Å‡∏•‡πâ‡∏´‡∏°‡∏î‡∏™‡∏ï‡πá‡∏≠‡∏Å</h3>
                    <div class="value" id="statLowStock">0</div>
                    <div class="label">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ (< 5 ‡∏ä‡∏¥‡πâ‡∏ô)</div>
                </div>
            </div>

        </section>

        <!-- STOCK MANAGEMENT SECTION (NEW) -->
        <section class="stock-section card">
            <div class="section-header">
                <h2><span class="icon">üì¶</span> ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏ï‡πá‡∏≠‡∏Å‡∏û‡∏±‡∏™‡∏î‡∏∏ (Inventory)</h2>
            </div>
            
            <!-- Stock Form -->
            <form id="stockForm" class="stock-form-container">
                <input type="hidden" id="stockEditId">
                <div class="form-grid compact">
                    <div class="form-group">
                        <label>‡∏ä‡∏∑‡πà‡∏≠‡∏û‡∏±‡∏™‡∏î‡∏∏</label>
                        <input type="text" id="stockName" required placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤">
                    </div>
                    <div class="form-group">
                        <label>‡∏£‡∏´‡∏±‡∏™ (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)</label>
                        <input type="text" id="stockCode" placeholder="‡∏£‡∏´‡∏±‡∏™">
                    </div>
                    <div class="form-group">
                        <label>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠</label>
                        <input type="number" id="stockQty" min="0" required placeholder="0">
                    </div>
                    <div class="form-group">
                        <label>‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏ô‡∏±‡∏ö</label>
                        <select id="stockUnit">
                            <option value="‡∏ä‡∏¥‡πâ‡∏ô">‡∏ä‡∏¥‡πâ‡∏ô</option>
                            <option value="‡∏î‡πâ‡∏≤‡∏°">‡∏î‡πâ‡∏≤‡∏°</option>
                            <option value="‡∏≠‡∏±‡∏ô">‡∏≠‡∏±‡∏ô</option>
                            <option value="‡∏Å‡∏•‡πà‡∏≠‡∏á">‡∏Å‡∏•‡πà‡∏≠‡∏á</option>
                            <option value="‡∏£‡∏µ‡∏°">‡∏£‡∏µ‡∏°</option>
                            <option value="‡∏ä‡∏∏‡∏î">‡∏ä‡∏∏‡∏î</option>
                            <option value="‡πÄ‡∏•‡πà‡∏°">‡πÄ‡∏•‡πà‡∏°</option>
                            <option value="‡πÅ‡∏û‡πá‡∏Ñ">‡πÅ‡∏û‡πá‡∏Ñ</option>
                        </select>
                    </div>
                    <div class="form-group form-actions-inline">
                        <button type="button" class="btn btn-secondary" id="btnStockClear">‡∏•‡πâ‡∏≤‡∏á</button>
                        <button type="submit" class="btn btn-stock" id="btnStockSave">‡πÄ‡∏û‡∏¥‡πà‡∏°/‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏™‡∏ï‡πá‡∏≠‡∏Å</button>
                    </div>
                </div>
            </form>

            <div class="table-responsive mt-1">
                <table id="stockTable">
                    <thead>
                        <tr>
                            <th width="30%">‡∏ä‡∏∑‡πà‡∏≠‡∏û‡∏±‡∏™‡∏î‡∏∏</th>
                            <th width="15%">‡∏£‡∏´‡∏±‡∏™</th>
                            <th width="20%">‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠</th>
                            <th width="15%">‡∏´‡∏ô‡πà‡∏ß‡∏¢</th>
                            <th width="20%">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
                        </tr>
                    </thead>
                    <tbody id="stockTableBody">
                        <!-- Stock Data -->
                    </tbody>
                </table>
            </div>
        </section>

        <!-- REQUISITION FORM SECTION -->
        <section class="form-section card">
            <div class="section-header">
                <h2><span class="icon">üìù</span> ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏¥‡∏Å‡∏û‡∏±‡∏™‡∏î‡∏∏</h2>
            </div>
            <form id="requisitionForm">
                <input type="hidden" id="editId">
                
                <div class="form-grid">
                    <div class="form-group">
                        <label for="requesterName">‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏Ç‡∏≠‡πÄ‡∏ö‡∏¥‡∏Å <span class="required">*</span></label>
                        <input type="text" id="requesterName" required placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•">
                    </div>

                    <div class="form-group">
                        <label for="department">‡∏Å‡∏•‡∏∏‡πà‡∏° <span class="required">*</span></label>
                        <select id="department" required>
                            <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏•‡∏∏‡πà‡∏° --</option>
                            <option value="‡∏Å‡∏™">‡∏Å‡∏™</option>
                            <option value="‡∏Å‡∏≠">‡∏Å‡∏≠</option>
                            <option value="‡∏Å‡∏ó">‡∏Å‡∏ó</option>
                            <option value="‡∏Å‡∏û">‡∏Å‡∏û</option>
                            <option value="‡∏Å‡∏Ñ">‡∏Å‡∏Ñ</option>
                            <option value="‡∏ò‡∏∏‡∏£‡∏Å‡∏≤‡∏£">‡∏ò‡∏∏‡∏£‡∏Å‡∏≤‡∏£</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="reqDate">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏ö‡∏¥‡∏Å <span class="required">*</span></label>
                        <input type="date" id="reqDate" required>
                    </div>

                    <div class="form-group">
                        <label for="itemName">‡∏ä‡∏∑‡πà‡∏≠‡∏û‡∏±‡∏™‡∏î‡∏∏/‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå <span class="required">*</span></label>
                        <input type="text" id="itemName" list="stockItemsList" required placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ ‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏∞‡∏ö‡∏∏‡πÉ‡∏´‡∏°‡πà">
                        <datalist id="stockItemsList">
                            <!-- Populated by JS from Stock Data -->
                        </datalist>
                    </div>

                    <div class="form-group">
                        <label for="itemCode">‡∏£‡∏´‡∏±‡∏™‡∏û‡∏±‡∏™‡∏î‡∏∏ (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)</label>
                        <input type="text" id="itemCode" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏£‡∏´‡∏±‡∏™">
                    </div>

                    <div class="form-group">
                        <label for="quantity">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏ö‡∏¥‡∏Å <span class="required">*</span></label>
                        <input type="number" id="quantity" min="1" required placeholder="0">
                        <small id="stockHint" class="helper-text"></small>
                    </div>

                    <div class="form-group">
                        <label for="unit">‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏ô‡∏±‡∏ö</label>
                        <select id="unit">
                            <option value="‡∏ä‡∏¥‡πâ‡∏ô">‡∏ä‡∏¥‡πâ‡∏ô</option>
                            <option value="‡∏î‡πâ‡∏≤‡∏°">‡∏î‡πâ‡∏≤‡∏°</option>
                            <option value="‡∏≠‡∏±‡∏ô">‡∏≠‡∏±‡∏ô</option>
                            <option value="‡∏Å‡∏•‡πà‡∏≠‡∏á">‡∏Å‡∏•‡πà‡∏≠‡∏á</option>
                            <option value="‡∏£‡∏µ‡∏°">‡∏£‡∏µ‡∏°</option>
                            <option value="‡∏ä‡∏∏‡∏î">‡∏ä‡∏∏‡∏î</option>
                            <option value="‡πÄ‡∏•‡πà‡∏°">‡πÄ‡∏•‡πà‡∏°</option>
                            <option value="‡πÅ‡∏û‡πá‡∏Ñ">‡πÅ‡∏û‡πá‡∏Ñ</option>
                        </select>
                    </div>

                    <div class="form-group full-width">
                        <label for="note">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</label>
                        <input type="text" id="note" placeholder="‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°">
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" id="btnClear">‡∏•‡πâ‡∏≤‡∏á‡∏ü‡∏≠‡∏£‡πå‡∏°</button>
                    <button type="submit" class="btn btn-primary" id="btnSave">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏¥‡∏Å</button>
                </div>
            </form>
        </section>

        <!-- TABLE SECTION -->
        <section class="list-section card">
            <div class="section-header">
                <h2><span class="icon">üìã</span> ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏¥‡∏Å</h2>
                <div class="table-controls">
                    <input type="text" id="searchInput" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ä‡∏∑‡πà‡∏≠, ‡∏Å‡∏•‡∏∏‡πà‡∏°, ‡∏û‡∏±‡∏™‡∏î‡∏∏...">
                    <button class="btn btn-success" id="btnExport">Export CSV</button>
                </div>
            </div>
            
            <div class="table-responsive">
                <table id="dataTable">
                    <thead>
                        <tr>
                            <th width="5%">#</th>
                            <th width="12%">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</th>
                            <th width="15%">‡∏ú‡∏π‡πâ‡∏Ç‡∏≠‡πÄ‡∏ö‡∏¥‡∏Å</th>
                            <th width="10%">‡∏Å‡∏•‡∏∏‡πà‡∏°</th>
                            <th width="20%">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</th>
                            <th width="10%">‡∏£‡∏´‡∏±‡∏™</th>
                            <th width="10%">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th>
                            <th width="10%">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</th>
                            <th width="8%">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
                        </tr>
                    </thead>
                    <tbody id="tableBody">
                        <!-- Data will be populated here -->
                    </tbody>
                </table>
            </div>
            <div id="noDataMessage" class="no-data" style="display: none;">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏¥‡∏Å</div>
        </section>

    </main>

    <footer class="main-footer">
        <p>&copy; <span id="yearDisplay"></span> ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏™‡∏î‡∏∏‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£ | ‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏î‡πâ‡∏ß‡∏¢ Vanilla JS</p>
    </footer>

    <script src="app.js"></script>
</body>
</html>